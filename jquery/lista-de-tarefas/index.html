<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../bootstrap/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <title>Lista de Tarefas</title>
</head>
<body>
    <header class="text-center mt-4">
        <h1>Lista de Tarefas</h1>
    </header>
    <main class="row my-4 justify-content-center">
        <section class="col-8 shadow">
            <div class="input-group mb-3">
                <input type="text" class="form-control" id="nova-tarefa" placeholder="Adicione uma tarefa..." aria-label="Adicione uma tarefa..." aria-describedby="basic-addon2">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary" id="btn-add" type="button">Button</button>
                </div>
            </div>
        </section>
        <section class="col-7 mt-5">
            <div class="list-group">
                <a href="#" class="list-group-item list-group-item-action" hidden>
                    <input type="checkbox" class="checkbox"> 
                    <label for="">teste</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Cras justo odio</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Dapibus ac facilisis in</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Morbi leo risus</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Porta ac consectetur ac</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action ">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Vestibulum at eros</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
              </div>
        </section>
    </main>
    <script src="../jquery-3.6.0.min.js"></script>
    <script src="../../bootstrap/node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>   
    <script>
        $(function() {
            let input_add = $('#nova-tarefa')

            $('.list-group-item').on('click', function(){
                let checkado = this.children[0].checked
                if(!(checkado))
                {
                    $(this).children('label').css('text-decoration', 'line-through')
                    $(this).children('.checkbox').attr('checked', true)
                }
                else
                {
                    $(this).children('label').css('text-decoration', 'none')
                    $(this).children('.checkbox').attr('checked', false)
                }
            })

            $('#btn-add').on('click', function() {
                $('.list-group-item:first')
                .clone(true)
                .removeAttr('hidden')
                .appendTo('.list-group')
                .children('label')
                .text(input_add.val())
                input_add.focus()
            })
            
            $('.btn-danger').on('click', function() {
                $(this).parent().remove()
                input_add.focus()
            })
            input_add.on('change', function(e) {
                console.log(this.value)
            })
        })
    </script> 
</body>
</html>