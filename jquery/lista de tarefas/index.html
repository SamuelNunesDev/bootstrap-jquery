<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <title>Lista de Tarefas</title>
</head>
<body>
    <header class="text-center mt-4">
        <h1>Lista de Tarefas</h1>
    </header>
    <main class="row my-4 justify-content-center">
        <section class="col-8 shadow">
            <div class="input-group mb-3">
                <input type="text" class="form-control" id="nova-tarefa" placeholder="Adicione uma tarefa..." aria-label="Adicione uma tarefa..." aria-describedby="basic-addon2">
                <div class="input-group-append">
                  <button class="btn btn-outline-secondary" id="btn-add" type="button">Adicionar</button>
                </div>
            </div>
        </section>
        <section class="col-7 mt-5">
            <div class="list-group">
                <a href="#" class="list-group-item list-group-item-action" hidden>
                    <input type="checkbox" class="checkbox"> 
                    <label for=""></label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Volei hoje as 19:00</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Aula após o volei</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Comer</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Dormir</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
                <a href="#" class="list-group-item list-group-item-action ">
                    <input type="checkbox" class="checkbox"> 
                    <label for="">Reunião com o cara do freela sábado</label>
                    <button class="btn btn-danger btn-sm">Apagar</button>
                </a>
              </div>
        </section>
    </main>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>   
    <script>
        $(function() {
            let input_add = $('#nova-tarefa')
            
            $('.checkbox').on('click', function(e) {
                e.stopPropagation()
                $(e.target).siblings('label').toggleClass('checkado')
            })
            $('.list-group-item').on('click', function() {
                let selecionado = this.children[0].checked
                $(this).children('input').attr('checked', !selecionado)
                $(this).children('label').toggleClass('checkado')
            })

            $('#btn-add').on('click', adicionar)
            
            $('.btn-danger').on('click', function() {
                $(this).parent().fadeOut(500, function() {
                    $(this).remove()
                })
                input_add.focus()
            })
            $('input:text').on('keyup', function(e) {
                if(e.keyCode == 13)
                {
                    adicionar();
                }
            })
            function adicionar() {
                if (input_add.val() != '')
                {
                    $('.list-group-item:first').clone(true).removeAttr('hidden').appendTo('.list-group').children('label').text(input_add.val())
                    input_add.val('').focus()
                }
                
            }
        })
    </script> 
</body>
</html>